diff a/src/huginn/app/models/agent.rb b/src/huginn/app/models/agent.rb	(rejected hunks)
@@ -18,9 +16,21 @@ class Agent < ActiveRecord::Base
 
   attr_accessible :options, :memory, :name, :type, :schedule, :source_ids
 
+  serialize :options, JSONWithIndifferentAccess
+  serialize :memory, JSONWithIndifferentAccess
+
+  def options=(o)
+    self[:options] = ActiveSupport::HashWithIndifferentAccess.new(o)
+  end
+
+  def memory=(o)
+    self[:memory] = ActiveSupport::HashWithIndifferentAccess.new(o)
+  end
+
   validates_presence_of :name, :user
   validate :sources_are_owned
   validate :validate_schedule
+  validate :validate_options
 
   after_initialize :set_default_schedule
   before_validation :set_default_schedule
